<!DOCTYPE html>
<html>
<head>
  <title>Video Upload Form</title>
</head>
<body>
  <form id="videoUploadForm" enctype="multipart/form-data">
    <label for="videoFile">Select a video file:</label>
    <input type="file" id="videoFile" name="videoFile" required>

    <label for="imageFile">Select an image file:</label>
    <input type="file" id="imageFile" name="imageFile" required>

    <label for="mediaName">Enter a name for the media:</label>
    <input type="text" id="mediaName" name="mediaName" required>

    <button type="submit">Upload Files</button>
  </form>

  <div id="videoContainer"></div>
  <div id="imageContainer"></div>

  <script>
    $('#videoUploadForm').on('submit', function(e) {
      e.preventDefault();

      var formData = new FormData(this);
      var url = '/uploadMedia';

      // Extract the media name
      var mediaName = $('#mediaName').val();

      // Append the media name to the form data
      formData.append('mediaName', mediaName);

      $.ajax({
        type: 'POST',
        url: url,
        data: formData,
        processData: false,
        contentType: false,
        success: function(data) {
          if (data.success) {
            console.log('Media uploaded successfully');

            // Display the video on the page
            var videoElement = '<video src="' + data.videoPath + '" controls></video>';
            $('#videoContainer').html(videoElement);

            // Display the image on the page
            var imageElement = '<img src="' + data.imagePath + '" alt="Image uploaded">';
            $('#imageContainer').html(imageElement);
          } else {
            console.error('Failed to upload media');
          }
        },
        error: function(error) {
          console.error('Error uploading media:', error);
        }
      });
    });
  </script>
</body>
</html>
